# chiba_robo_board_2024
## 概要
ちばロボ2024に参加する1年生向けの制御基板です。

## 機能一覧
- マイコンボードESP32S2-DevKitM-1で操作可能
- Cytron MD10C向けコントロールピンx5
- 60kgサーボ向けコントロールピン&amp;7.5V/5A高効率電源
- マイコンボード直結GPIOピン
- 12~24VDC/50Aのアクチュエータ電源
- 外付け非常停止スイッチ
- ソフトスタート内蔵

todo:基板画像

# マイコンボード
本基板はESP32S2-DevKitM-1でアクチュエータ類を操作します。基板上のピンソケットに、シルクに描画されている向きに従ってESP32S2-DevKitM-1を差し込んでください。

各種アクチュエータ/センサとマイコンボードのピンアサインは以下のとおりです。
| ピン | アクチュエータ/センサ | 説明 |
| ----- | ----- | ------ |
| 1 | DCモーター1 | DCモーター1のPWM信号 |
| 2 | DCモーター2 | DCモーター2のPWM信号 |
| 3 | DCモーター3 | DCモーター3のPWM信号 |
| 4 | DCモーター4 | DCモーター4のPWM信号 |
| 5 | DCモーター5 | DCモーター5のPWM信号 |
| 6 | DCモーター1 | DCモーター1のDIR信号 |
| 7 | DCモーター2 | DCモーター2のDIR信号 |
| 8 | DCモーター3 | DCモーター3のDIR信号 |
| 9 | DCモーター4 | DCモーター4のDIR信号 |
| 10 | DCモーター5 | DCモーター5のDIR信号 |
| 11 | サーボモーター1 | サーボモーター1のPWM信号 |
| 12 | サーボモーター2 | サーボモーター2のPWM信号 |
| 13 | サーボモーター3 | サーボモーター3のPWM信号 |
| 14 | サーボモーター4 | サーボモーター4のPWM信号 |
| 15 | サーボモーター5 | サーボモーター5のPWM信号 |
| 42 | 非常停止ボタン | HIGH: 非常停止ボタンが押されて**いない** LOW:非常停止ボタンが押されて**いる** |
| 5V || ロジック電源で動く回路の電源 |
| GND || ロジック電源で動く回路の共通電位 |

# Cytron MD10C向けコントロールピン
Cytron製モータードライバ「Cytron MD10C」向けのDIR/PWM/GNDピンを提供します。

DIRピンのHigh/Low切り替えにより、回転方向を変化させます。

PWMピンから出力するPWM信号のデューティー比により、回転速度を変化させます。

GNDピンの電位は、マイコンボードのGNDピンと同電位です。

DIR/PWMピンの出力インピーダンスは2.2kOhm、ロジック電圧は3.3Vです。

<img src="./Cytron_MD10C.png" alt="Cytron MD10C" width="480px">

# サーボモーター電源/コントロールピン
60kgサーボ向けの7.5V/5A電源および、マイコンボードと絶縁されたPWM信号を提供します。

基板上のピンヘッダに、サーボモーターのQIコネクタを接続するだけで使用できます。

最大5個まで接続可能です(最小動作電流1Aの場合)。

> [!WARNING]
> 3.3Vや5Vで動作するサーボモーターを接続しないでください。サーボモーターが焼損する可能性があります。

# マイコンボード直結のGPIOピン
その他のアクチュエータおよびセンサを接続可能なGPIOピンを備えています。また、特定のGPIOピンからは、EMS信号(非常停止ボタンの信号)を取り出すことができます。出力電流